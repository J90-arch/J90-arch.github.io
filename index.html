<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Organization Login</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Map Background -->
    <div id="map"></div>

    <!-- Layer for Dots -->
    <div id="dot-layer"></div>

    <!-- Login Box -->
    <div id="login-box">
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button onclick="attemptLogin()">Login</button>
    </div>

    <!-- Error Alert Box -->
    <div id="error-alert" class="alert-box">ACCESS DENIED</div>

    <!-- Success Alert Box -->
    <div id="success-alert" class="alert-box">ACCESS GRANTED</div>

    <!-- Hidden Canvas for Pixel Detection -->
    <canvas id="map-canvas" style="display: none;"></canvas>

    <!-- Load the Map and Dot Generation Script -->
    <script type="module" src="map.js"></script>

    <!-- Login Logic -->
    <script>
        function attemptLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === 'para' && password === 'normal') {
                showSuccess();
            } else {
                showError();
            }
        }

        function showError() {
            const errorAlert = document.getElementById('error-alert');
            errorAlert.style.display = 'block';

            // Hide the alert after 3 seconds
            setTimeout(() => {
                errorAlert.style.display = 'none';
            }, 3000);
        }

        function showSuccess() {
            const successAlert = document.getElementById('success-alert');
            successAlert.style.display = 'block';

            // Redirect to reader.html after 1 second
            setTimeout(() => {
                successAlert.style.display = 'none';
                window.location.href = 'reader.html';
            }, 1000);
        }
    </script>
</body>
</html>
